---
title: Rust Journey - Part1
tags:
  - Rust
date: 2025-08-03 19:35:00
updated: 2025-09-01 16:47:00
---


è¯¸å¦‚åœ¨ä»»ä½•ä¸€é—¨å…¶ä»–çš„ç¼–ç¨‹è¯­è¨€ä¸­å­˜åœ¨çš„å˜é‡ã€åŸºç¡€æ•°æ®ç±»å‹ã€å‡½æ•°ã€æµç¨‹æ§åˆ¶ä»¥åŠæ³¨é‡Šè¿™äº›åŸºç¡€æ¦‚å¿µï¼Œåœ¨ Rust è¯­è¨€ä¸­åŒæ ·å­˜åœ¨ã€‚è¿™ä¸€ç¯‡ä¸­æ¥ä»‹ç»åœ¨ Rust è¯­å¢ƒä¸­è¿™äº›æ¦‚å¿µçš„ç”¨æ³•ã€‚

<!-- more -->

## å˜é‡åŠå¯å˜æ€§

### let å˜é‡

é»˜è®¤æƒ…å†µä¸‹ï¼ŒRust ä¸­çš„å˜é‡æ˜¯ä¸å¯å˜çš„ã€‚å¬ä¸Šå»æœ‰ç‚¹åç›´è§‰ï¼Œä½†æ˜¯è¿™æ˜¯ Rust å»ºè®®çš„åšæ³•ã€‚åŒæ—¶ Rust ä¹Ÿæä¾›äº†æ–¹æ³•è®©å˜é‡å¯å˜ã€‚

æˆ‘ä»¬é€šè¿‡ `cargo new variables` åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®æ¥æ¢ç´¢ä¸€ä¸‹å¯å˜æ€§çš„æ¦‚å¿µï¼Œåœ¨ *src/main.rs* ä¸­å†™ä¸Šå¦‚ä¸‹ä»£ç ï¼š

```rust
fn main() {
    let x = 5;
    println!("The value of x is: {x}");
    x = 6;
    println!("The value of x is: {x}");
}
```

ä¿å­˜ç„¶åç¼–è¯‘ä¼šå‘ç°æœ‰æŠ¥é”™ï¼š

```
$ cargo run
   Compiling variables v0.1.0 (file:///projects/variables)
error[E0384]: cannot assign twice to immutable variable `x`
 --> src/main.rs:4:5
  |
2 |     let x = 5;
  |         - first assignment to `x`
3 |     println!("The value of x is: {x}");
4 |     x = 6;
  |     ^^^^^ cannot assign twice to immutable variable
  |
help: consider making this binding mutable
  |
2 |     let mut x = 5;
  |         +++

For more information about this error, try `rustc --explain E0384`.
error: could not compile `variables` (bin "variables") due to 1 previous error
```

é”™è¯¯ä¿¡æ¯å½“ä¸­ï¼Œå·²ç»æ˜ç¡®è¯´æ˜äº†ï¼š`cannot assign twice to immutable variable`ï¼Œæˆ‘ä»¬ç»™ä¸€ä¸ªä¸å¯å˜å˜é‡ç¬¬äºŒæ¬¡èµ‹å€¼ï¼Œæ‰€ä»¥æŠ¥é”™ã€‚è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯è¿™ä¸ªé”™è¯¯æŠ¥åœ¨äº†ç¼–è¯‘æœŸé—´ï¼ŒRust åœ¨ç¼–è¯‘çš„æ—¶å€™æ£€æŸ¥å‡ºäº†å†™çš„ä»£ç å’Œæˆ‘ä»¬çš„æ„å›¾ä¸ä¸€è‡´ï¼Œå› ä¸ºå˜é‡ *x* æ˜¯ä¸å¯å˜çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å´åœ¨ç»™å®ƒç¬¬äºŒæ¬¡èµ‹å€¼ã€‚æ‰€ä»¥ Rust ä¿è¯çš„æ˜¯å¦‚æœæˆ‘ä»¬å¸Œæœ›ä¸€ä¸ªå˜é‡æ˜¯ä¸å¯å˜çš„é‚£ä¹ˆå®ƒä¸€å®šä¸ä¼šè¢«ä¿®æ”¹ã€‚

ä½†æ˜¯ï¼Œå˜é‡å¯å˜åŒæ ·å¯¹ç¨‹åºå‘˜å¾ˆé‡è¦ï¼Œå› ä¸ºå†™ç¨‹åºä¼šæ–¹ä¾¿ä¸€äº›ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å®šä¹‰å˜é‡çš„æ—¶å€™åœ¨å˜é‡åä¹‹å‰åŠ ä¸€ä¸ªå…³é”®å­— `mut` æ¥è¡¨è¾¾æ„å›¾ï¼šè¿™ä¸ªå˜é‡æ˜¯å¯å˜çš„ã€‚

```rust
fn main() {
    let mut x = 5;
    println!("The value of x is: {x}");
    x = 6;
    println!("The value of x is: {x}");
}
```

è¿è¡Œç¨‹åºï¼š

```
$ cargo run
   Compiling variables v0.1.0 (file:///projects/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.30s
     Running `target/debug/variables`
The value of x is: 5
The value of x is: 6
```

å½“å¸Œæœ›å°†ç»‘å®šåœ¨ `x` ä¸Šçš„å€¼ä» `5` æ”¹ä¸º `6` å°±å¿…é¡»ä½¿ç”¨ `mut`ã€‚

### å¸¸é‡

å’Œä¸å¯å˜å˜é‡ä¸€æ ·ï¼Œå¸¸é‡ç»‘å®šçš„å€¼ä¹Ÿä¸å¯ä¿®æ”¹çš„ã€‚ä½†æ˜¯ï¼Œå®ƒä»¬ä¹‹é—´ä¹Ÿæœ‰ä¸€äº›ä¸åŒçš„åœ°æ–¹ã€‚é¦–å…ˆä¸èƒ½åœ¨å¸¸é‡å‰åŠ  `mut`ï¼Œå¸¸é‡æ°¸è¿œéƒ½æ˜¯ä¸å¯å˜çš„ï¼›ç¬¬äºŒï¼Œå®šä¹‰å¸¸é‡ç”¨çš„æ˜¯ `const` è€Œä¸æ˜¯ `let`ï¼›ç¬¬ä¸‰ï¼Œå®šä¹‰å¸¸é‡æ—¶å¿…é¡»åŒæ—¶æŒ‡å®šæ•°æ®ç±»å‹ï¼›ç¬¬å››ï¼Œå¸¸é‡å¯ä»¥å®šä¹‰åœ¨ä»»æ„ä½œç”¨èŒƒå›´åŒ…æ‹¬å…¨å±€ä½œç”¨èŒƒå›´ï¼Œè€Œå˜é‡åªèƒ½å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨ï¼›æœ€åï¼Œå¸¸é‡åªèƒ½ç”¨å¸¸é‡è¡¨è¾¾å¼æ¥åˆå§‹åŒ–ï¼Œä¹Ÿå°±æ˜¯å®šä¹‰å¸¸é‡çš„å€¼å¿…é¡»æ˜¯èƒ½å¤Ÿåœ¨ç¼–è¯‘é˜¶æ®µå°±å†³å®šçš„è€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶ã€‚

å®šä¹‰å¸¸é‡çš„ä¾‹å­ï¼š

```rust
const THREE_HOURS_IN_SECONDS: u32 = 60 * 60 * 3;
```

è¿™é‡Œï¼Œå¸¸é‡çš„åç§°æ˜¯ `THREE_HOURS_IN_SECONDS`ï¼Œå…¶å€¼ä¸º 60 ä¹˜ä»¥ 60 ä¹˜ä»¥ 3ã€‚Rust ä¸­å‘½åå¸¸é‡çš„ä¹ æƒ¯æ˜¯ç”¨å…¨å¤§å†™å­—ç¬¦å’Œä¸‹åˆ’çº¿ã€‚

åœ¨æ•´ä¸ªç¨‹åºçš„è¿è¡ŒæœŸé—´ï¼Œå¸¸é‡åœ¨å…¶å®šä¹‰çš„ä½œç”¨èŒƒå›´ä¸­éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚è¿™æ ·å½“æˆ‘ä»¬éœ€è¦åœ¨ç¨‹åºçš„å¤šä¸ªéƒ¨åˆ†éƒ½ä½¿ç”¨åŒä¸€ä¸ªå€¼æ—¶ï¼Œä½¿ç”¨å¸¸é‡å°±ä¼šå¾ˆæ–¹ä¾¿ï¼Œå¹¶åˆ‡å«ä¹‰ä¸€è‡´ã€‚

### å˜é‡é®è”½

å½“å®šä¹‰åä¸€ä¸ªå˜é‡æ—¶ä½¿ç”¨å‰ä¸€ä¸ªå˜é‡çš„åç§°ï¼Œæˆ‘ä»¬å°±è¯´åä¸€ä¸ªå˜é‡é®è”½ï¼ˆshadowï¼‰äº†å‰ä¸€ä¸ªå˜é‡ã€‚å¯¹äºç¼–è¯‘å™¨æ¥è¯´åœ¨æ­¤ä¹‹åå®ƒå°±åªä¼šçœ‹åˆ°ç¬¬äºŒä¸ªå˜é‡ã€‚é‚£ä»€ä¹ˆæ—¶å€™è¿™ä¸ªä½œç”¨ä¼šæ¶ˆå¤±å‘¢ï¼Ÿé‚£å°±æœ‰ 2 ç§æƒ…å†µï¼Œç¬¬ä¸€ï¼Œç¬¬äºŒä¸ªå˜é‡ç»§ç»­è¢«ç¬¬ä¸‰ä¸ªå˜é‡é®è”½ï¼›ç¬¬äºŒï¼Œç¬¬äºŒä¸ªå˜é‡çš„ä½œç”¨åŸŸç»“æŸã€‚

```rust
fn main() {
    let x = 5;

    let x = x + 1;

    {
        let x = x * 2;
        println!("The value of x in the inner scope is: {x}");
    }

    println!("The value of x is: {x}");
}
```

ä¸Šé¢è¿™æ®µä»£ç ï¼Œæˆ‘ä»¬é¦–å…ˆç»‘å®š `x` åˆ° `5` ä¸Šï¼Œç„¶åé‡å¤ç”¨ `let x = ` åˆ›å»ºäº†ä¸€ä¸ªæ–°å˜é‡ `x`ï¼Œæ­¤æ—¶çš„ `x` é®è”½äº†ä¹‹å‰çš„ `x`ã€‚åŒæ—¶ç»‘å®šåˆ°å€¼ `5 + 1` ä¹Ÿå°±æ˜¯ `6`ã€‚åœ¨èŠ±æ‹¬å·å†…éƒ¨ï¼Œæˆ‘ä»¬ç»§ç»­åˆ›å»ºç¬¬ä¸‰ä¸ªæ–°å˜é‡ `x`ï¼Œç»‘å®šå€¼åˆ° `6 * 2` ä¹Ÿå°±æ˜¯ `12`ï¼ŒåŒæ—¶é®è”½äº†ç¬¬ä¸€å’Œç¬¬äºŒä¸ª `x`ï¼Œå½“èŠ±æ‹¬å·ç»“æŸåï¼Œç¬¬ä¸‰ä¸ª `x` è¶…å‡ºä½œç”¨åŸŸï¼Œäºæ˜¯é®è”½å¤±æ•ˆï¼Œç¼–è¯‘å™¨å°±çœ‹åˆ°äº†ç¬¬äºŒä¸ª `x`ï¼Œå…¶å€¼å°±æ˜¯ `6`ã€‚

è¿è¡Œè¿™æ®µä»£ç ï¼Œç»“æœå°±æ˜¯ï¼š

```rust
$ cargo run
   Compiling variables v0.1.0 (file:///projects/variables)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.31s
     Running `target/debug/variables`
The value of x in the inner scope is: 12
The value of x is: 6
```

å’Œ `mut` ä¸åŒçš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æ„å¤–ç»™ `x` é‡æ–°èµ‹å€¼ï¼Œè€Œæ²¡æœ‰ç”¨ `let` æ¥é®è”½ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼Œå› ä¸º `x` æ˜¯ä¸å¯ä¿®æ”¹çš„ã€‚å¦å¤–ä¸€ç‚¹æ˜¯ï¼Œå› ä¸ºæˆ‘ä»¬å®é™…ä¸Šæ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å˜é‡ `x` æ‰€ä»¥ç¬¬äºŒä¸ª `x` çš„ç±»å‹æ˜¯å¯ä»¥å’Œç¬¬ä¸€ä¸ª `x` ä¸ä¸€æ ·çš„ï¼Œä¾‹å¦‚ï¼š

```rust
    let spaces = "   ";
    let spaces = spaces.len();
```

## æ•°æ®ç±»å‹

åœ¨ Rust ä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªç‰¹å®šçš„ç±»å‹ï¼Œè¿™æ · Rust å°±çŸ¥é“å¦‚æœå¤„ç†è¿™ä¸ªå€¼ã€‚åœ¨ Rust ä¸­ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥åˆ†ä¸º 2 ç§ï¼šæ ‡é‡å’Œå¤åˆç±»å‹ã€‚

Rust æ˜¯ä¸€é—¨é™æ€ç±»å‹è¯­è¨€ï¼Œè¿™è¡¨ç¤ºå¿…é¡»åœ¨ç¼–è¯‘é˜¶æ®µå°±çŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹ã€‚Rust ç¼–è¯‘å™¨åŒæ—¶ä¹Ÿå¾ˆå¼ºå¤§ï¼Œå¯ä»¥åœ¨ç¼–è¯‘çš„æ—¶å€™é€šè¿‡å˜é‡çš„å€¼ä»¥åŠæˆ‘ä»¬rå¦‚ä½•ä½¿ç”¨å˜é‡æ¥æ¨æ–­å…¶ç±»å‹ã€‚å½“é‡åˆ°ä¸€ä¸ªå€¼å¯èƒ½ä¼šå‡ºç°å¤šç§ç±»å‹æ—¶ï¼Œä¾‹å¦‚ï¼Œå°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—æ—¶ï¼Œå¾—åˆ°çš„ç»“æœå¯èƒ½æ˜¯å¾ˆå¤šç±»å‹ï¼ˆi32ï¼Œu32ç­‰ï¼‰ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¿…é¡»æ˜¾ç¤ºæ ‡è®°å˜é‡ç±»å‹ï¼š

```rust
let guess: u32 = "42".parse().expect("Not a number!");
```

å¦‚æœæ²¡æœ‰æ ‡è®°ç±»å‹ï¼Œé‚£ä¹ˆåœ¨ç¼–è¯‘çš„æ—¶å€™å°±ä¼šæŠ¥é”™ï¼Œæç¤ºæˆ‘ä»¬ç¼–è¯‘å™¨ä¸çŸ¥é“å…·ä½“è¦ä½¿ç”¨å“ªç§ç±»å‹ï¼š

```
$ cargo build
   Compiling no_type_annotations v0.1.0 (file:///projects/no_type_annotations)
error[E0284]: type annotations needed
 --> src/main.rs:2:9
  |
2 |     let guess = "42".parse().expect("Not a number!");
  |         ^^^^^        ----- type must be known at this point
  |
  = note: cannot satisfy `<_ as FromStr>::Err == _`
help: consider giving `guess` an explicit type
  |
2 |     let guess: /* Type */ = "42".parse().expect("Not a number!");
  |              ++++++++++++

For more information about this error, try `rustc --explain E0284`.
error: could not compile `no_type_annotations` (bin "no_type_annotations") due to 1 previous error
```

### æ ‡é‡ç±»å‹

æ ‡é‡ç±»å‹ç”¨æ¥è¡¨ç¤ºå•ä¸ªå€¼ã€‚åœ¨ Rust ä¸­æœ‰ 4 ç§åŸºæœ¬çš„æ ‡é‡ç±»å‹ï¼šæ•´å‹ã€æµ®ç‚¹å‹ã€å¸ƒå°”å‹ä»¥åŠå­—ç¬¦ã€‚

#### æ•´å‹

æ•´å‹æ˜¯ä¸å¸¦å°æ•°çš„æ•°å­—ã€‚ä¸‹è¡¨ä¸­åˆ—å‡ºäº† Rust ä¸­è‡ªå¸¦çš„æ‰€æœ‰æ•´å‹ç±»å‹ï¼š

| Length | Signed | Unsigned |
| - | - | - |
| 8-bit | i8 | u8 |
| 16-bit | i16 | u16 |
| 32-bit | i32 | u32 |
| 64-bit | i64 | u64 |
| 128-bit | i128 | u128 |
| architecture dependent | isize | usize |

å…¶ä¸­ï¼Œ`isize`ã€`usize` ç±»å‹ä¾èµ–äºç¨‹åºè¿è¡Œçš„ç”µè„‘ä¸Šçš„ CPU æ¶æ„ã€‚ä¾‹å¦‚ CPU æ˜¯ 64bit çš„é‚£ä¹ˆå®ƒä»¬çš„å¤§å°å°±æ˜¯ 64 ä½ã€‚

åœ¨ç¨‹åºä¸­ä¹¦å†™æ•´å‹å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ ¼å¼ä¸­çš„ä»»ä¸€ç§ï¼š

| Number literals | Example |
| - | - |
| Decimal | 98_222 |
| Hex | 0xff |
| Octal | 0o77 |
| Binary | 0b1111_0000 |
| Byte(`u8` only) | b'A' |

è¿˜èƒ½åœ¨æ•°å­—å­—é¢å€¼çš„åé¢åŠ ä¸Šåç¼€ï¼Œä¾‹å¦‚ `57u8`ï¼Œå»æŒ‡å®šç±»å‹ã€‚

#### æµ®ç‚¹å‹

Rust ä¹Ÿæœ‰ 2 ä¸­åŸºæœ¬çš„æµ®ç‚¹æ•°ç±»å‹ï¼š`f32` å’Œ `f64`ã€‚

```rust
fn main() {
    let x = 2.0; // f64

    let y: f32 = 3.0; // f32
}
```

æµ®ç‚¹æ•°éµå¾ª IEEE-754 æ ‡å‡†ã€‚

#### æ•°å­—è¿ç®—

Rust æ”¯æŒæ‰€æœ‰åŸºæœ¬çš„æ•°å­¦è¿è¡Œæ“ä½œï¼šåŠ å‡ä¹˜é™¤ä»¥åŠå–ä½™ã€‚æ•´æ•°é™¤æ³•ä¼šä¸¢æ‰å•†çš„å°æ•°éƒ¨åˆ†ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåšæ•°å­¦è¿ç®—çš„ä¾‹å­ï¼š

```rust
fn main() {
    // addition
    let sum = 5 + 10;

    // subtraction
    let difference = 95.5 - 4.3;

    // multiplication
    let product = 4 * 30;

    // division
    let quotient = 56.7 / 32.2;
    let truncated = -5 / 3; // Results in -1

    // remainder
    let remainder = 43 % 5;
}
```

#### å¸ƒå°”å‹

å’Œå¤§å¤šæ•°å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œåœ¨ Rust ä¸­å¸ƒå°”ç±»å‹æœ‰ 2 ç§å¯èƒ½çš„å€¼ï¼š`true` ä»¥åŠ `false`ã€‚å¸ƒå°”å€¼åœ¨å¤§å°ä¸Šå ç”¨ä¸€ä¸ªå­—èŠ‚ã€‚åœ¨ Rust ä¸­ç”¨ `bool` è¡¨ç¤ºå¸ƒå°”å‹ï¼š

```rust
fn main() {
    let t = true;

    let f: bool = false; // with explicit type annotation
}
```

ä¸»è¦ä½¿ç”¨å¸ƒå°”å‹å€¼çš„åœºæ™¯æ˜¯æ¡ä»¶åˆ¤æ–­ï¼Œæ¯”å¦‚åœ¨ `if` è¡¨è¾¾å¼ä¸­ä½¿ç”¨ã€‚

#### å­—ç¬¦ç±»å‹

Rust çš„å­—ç¬¦ç±»å‹æ˜¯è¯­è¨€ä¸­æœ€åŸºæœ¬çš„å­—æ¯ç±»å‹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å­—ç¬¦ç±»å‹å˜é‡çš„ç¤ºä¾‹ï¼š

```rust
fn main() {
    let c = 'z';
    let z: char = 'â„¤'; // with explicit type annotation
    let heart_eyed_cat = 'ğŸ˜»';
}
```

è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨å•å¼•å·æŒ‡å®š `char` å­—é¢é‡ï¼Œè€Œå­—ç¬¦ä¸²å­—é¢é‡åˆ™ä½¿ç”¨åŒå¼•å·ã€‚Rust çš„ `char` ç±»å‹å¤§å°ä¸º 4 ä¸ªå­—èŠ‚ï¼Œè¡¨ç¤º Unicode æ ‡é‡å€¼ï¼Œè¿™æ„å‘³ç€å®ƒä¸ä»…å¯ä»¥è¡¨ç¤º ASCII ç ï¼Œè¿˜å¯ä»¥è¡¨ç¤ºå¾ˆå¤šå…¶ä»–å­—ç¬¦ã€‚åœ¨ Rust ä¸­ï¼Œé‡éŸ³å­—æ¯ã€ä¸­æ–‡ã€æ—¥æ–‡å’ŒéŸ©æ–‡å­—ç¬¦ã€è¡¨æƒ…ç¬¦å·å’Œé›¶å®½åº¦ç©ºæ ¼éƒ½æ˜¯æœ‰æ•ˆçš„å­—ç¬¦å€¼ã€‚Unicode æ ‡é‡å€¼çš„èŒƒå›´ä¸º `U+0000` è‡³ `U+D7FF` å’Œ `U+E000` è‡³ `U+10FFFF`ï¼ˆå«ï¼‰ã€‚ä¸è¿‡ï¼Œâ€œå­—ç¬¦â€åœ¨ Unicode ä¸­å¹¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ¦‚å¿µï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ç›´è§‰ä¸Šå¯¹â€œå­—ç¬¦â€çš„ç†è§£å¯èƒ½ä¸ Rust ä¸­çš„å­—ç¬¦ä¸ä¸€è‡´ã€‚æˆ‘ä»¬å°†åœ¨åé¢è¯¦ç»†è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚

### å¤åˆç±»å‹

å¤åˆç±»å‹å¯ä»¥å°†å¤šä¸ªå€¼ç»„åˆåœ¨ä¸€ä¸ªç±»å‹ä¸­ã€‚Rust ä¸­æœ‰ 2 ä¸ªåŸºæœ¬çš„å¤åˆç±»å‹ï¼šå…ƒç»„å’Œæ•°ç»„ï¼ˆtuple and arrayï¼‰ã€‚

#### å…ƒç»„

å…ƒç»„ç”¨äºå°†ä¸åŒç±»å‹çš„å€¼æ”¾åœ¨ä¸€èµ·ç»„åˆæˆä¸€ä¸ªç±»å‹ã€‚å…ƒç»„å…·æœ‰å›ºå®šé•¿åº¦ï¼Œä¹Ÿå°±æ˜¯ä¸€æ—¦å®šä¹‰å®ƒçš„å¤§å°å°±ä¸èƒ½æ”¹å˜ã€‚

å®šä¹‰å…ƒç»„å¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼ï¼š

```rust
fn main() {
    let tup: (i32, f64, u8) = (500, 6.4, 1);
}
```

å°†ä¸åŒç±»å‹åœ¨åœ†æ‹¬å·ä¸­ç”¨é€—å·éš”å¼€ã€‚ç±»å‹å¯ä»¥ç›¸åŒä¹Ÿå¯ä»¥ä¸åŒã€‚

ä¸Šé¢å®šä¹‰çš„ `tup` å˜é‡ç»‘å®šåˆ°æ•´ä¸ªå…ƒç»„ï¼Œå› ä¸ºå…ƒç»„è¢«è§†ä¸ºå•ä¸ªå…ƒç´ ã€‚å¦‚æœæƒ³è·å–å…ƒç»„ä¸­çš„å•ä¸ªå€¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…æ¥å–æ¶ˆå…ƒç»„ç»„åˆï¼š

```rust
fn main() {
    let tup = (500, 6.4, 1);

    let (x, y, z) = tup;

    println!("The value of y is: {y}");
}
```

æˆ‘ä»¬è¿˜èƒ½ç›´æ¥é€šè¿‡ `.` åé¢è·Ÿä¸Šä¸€ä¸ªç´¢å¼•å€¼æ¥è®¿é—®å¯¹åº”çš„å€¼ï¼š

```rust
fn main() {
    let x: (i32, f64, u8) = (500, 6.4, 1);

    let five_hundred = x.0;

    let six_point_four = x.1;

    let one = x.2;
}
```

ä¸åŒ…å«ä»»ä½•å€¼çš„å…ƒç»„å…·æœ‰ç‰¹åˆ«çš„å«ä¹‰ï¼Œç§°ä¸º *unit*ã€‚å®ƒçš„å€¼ä»¥åŠç±»å‹éƒ½å†™ä½œ `()` ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªç©ºå€¼æˆ–è€…ç©ºå›è¿”ç±»å‹ã€‚ä»»ä½•è¡¨è¾¾å¼å¦‚æœä¸è¿”å›å…¶ä»–ä»»ä½•å€¼é‚£ä¹ˆå®ƒå°±éšå¼è¿”å› unit å€¼ã€‚

æˆ‘ä»¬è¿˜å¯ä»¥å•ç‹¬ä¿®æ”¹å¯å˜å…ƒç»„ä¸­çš„ä¸€ä¸ªå€¼ï¼š

```rust
fn main() {
    let mut x: (i32, i32) = (1, 2);
    x.0 = 0;
    x.1 += 5;
}
```

#### æ•°ç»„

å°†å¤šä¸ªå€¼æ”¾åœ¨ä¸€ä¸ªé›†åˆä¸­çš„å¦å¤–ä¸€ç§æ–¹å¼å°±æ˜¯æ•°ç»„ã€‚å’Œå…ƒç»„ä¸åŒçš„æ˜¯ï¼Œåœ¨æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ çš„ç±»å‹å¿…é¡»ç›¸åŒï¼›å’Œéƒ¨åˆ†å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­çš„æ•°ç»„ä¸åŒçš„æ˜¯ Rust ä¸­çš„æ•°ç»„æ˜¯å›ºå®šé•¿åº¦çš„ã€‚

æ•°ç»„çš„å€¼ç”¨åœ¨æ–¹æ‹¬å·ä¸­ä»¥é€—å·å°†å„ä¸ªå…ƒç´ åˆ—å‡ºçš„æ–¹å¼å®šä¹‰ï¼š

```rust
fn main() {
    let a = [1, 2, 3, 4, 5];
}
```

å½“æˆ‘ä»¬é‡åˆ°ä»¥ä¸‹åœºæ™¯çš„æ—¶å€™æ•°ç»„å°±å¾ˆæœ‰ç”¨ï¼š

- å°†ä¸€ç»„æ•°æ®åˆ†é…åœ¨æ ˆä¸Šè€Œä¸æ˜¯å †ä¸Š
- åœ¨ä½¿ç”¨ä¸€ç»„æ•°æ®æ—¶å¸Œæœ›å®ƒçš„å…ƒç´ ä¸ªæ•°æ˜¯å›ºå®šçš„

æˆ‘ä»¬è¿™æ ·æ¥è¡¨è¾¾æ•°ç»„çš„ç±»å‹ï¼šæ–¹æ‹¬å·é‡Œé¢å…ˆå†™å…ƒç´ ç±»å‹ï¼Œç´§æ¥ç€è·Ÿä¸Šä¸€ä¸ªåˆ†å·ï¼Œæœ€åå†™ä¸Šå…ƒç´ ä¸ªæ•°ï¼š

```rust
let a: [i32; 5] = [1, 2, 3, 4, 5];
```

åˆå§‹åŒ–ä¸€ä¸ªæ¯ä¸ªå…ƒç´ å€¼éƒ½æ˜¯ç›¸åŒçš„æ•°ç»„å¯ä»¥ç”¨ä¸€ä¸ªç®€ä¾¿å†™æ³•ï¼š

```rust
let a = [3; 5];
```

è¿™æ ·å†™çš„æ•ˆæœå’Œ `let a = [3, 3, 3, 3, 3];` æ˜¯ä¸€æ ·çš„ã€‚

##### æ•°ç»„å…ƒç´ çš„è®¿é—®

å’Œç»å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸€è‡´ï¼ŒRust ä¸­æ•°ç»„å…ƒç´ çš„è®¿é—®ä¹Ÿç”¨æ–¹æ‹¬å·é‡Œå†™ä¸Šå…ƒç´ ç´¢å¼•æ¥è¡¨ç¤ºï¼š

```rust
fn main() {
    let a = [1, 2, 3, 4, 5];

    let first = a[0];
    let second = a[1];
}
```

##### æ•°ç»„çš„éæ³•è®¿é—®

å½“æˆ‘ä»¬è¶Šç•Œè®¿é—®æ•°ç»„çš„å…ƒç´ åœ¨ Rust ä¸­ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢è¿™ä¸ªç¨‹åºç¤ºèŒƒäº†è¿™ç§æƒ…å†µï¼š

```rust
use std::io;

fn main() {
    let a = [1, 2, 3, 4, 5];

    println!("Please enter an array index.");

    let mut index = String::new();

    io::stdin()
        .read_line(&mut index)
        .expect("Failed to read line");

    let index: usize = index
        .trim()
        .parse()
        .expect("Index entered was not a number");

    let element = a[index];

    println!("The value of the element at index {index} is: {element}");
}
```

è¿™æ®µä»£ç èƒ½ç¼–è¯‘é€šè¿‡ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œç¨‹åºæ—¶ï¼Œå¦‚æœæˆ‘ä»¬æä¾›è¾“å…¥ä¸º `10` çš„æ—¶å€™å°±ä¼šå‘ç”Ÿï¼š

```
thread 'main' panicked at src/main.rs:19:19:
index out of bounds: the len is 5 but the index is 10
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
```

ç¨‹åºåœ¨ç´¢å¼•æ“ä½œä¸­ä½¿ç”¨æ— æ•ˆå€¼æ—¶å‡ºç°è¿è¡Œæ—¶é”™è¯¯ã€‚ç¨‹åºå¸¦ç€é”™è¯¯ä¿¡æ¯é€€å‡ºï¼Œå¹¶ä¸”æ²¡æœ‰æ‰§è¡Œæœ€åçš„ `println!` å½“ä½ å°è¯•ä½¿ç”¨ç´¢å¼•è®¿é—®å…ƒç´ æ—¶ï¼ŒRust ä¼šæ£€æŸ¥ä½ æŒ‡å®šçš„ç´¢å¼•æ˜¯å¦å°äºæ•°ç»„é•¿åº¦ã€‚å¦‚æœç´¢å¼•å¤§äºæˆ–ç­‰äºæ•°ç»„é•¿åº¦ï¼ŒRust å°±ä¼šè§¦å‘ panic æœºåˆ¶ã€‚è¿™ç§æ£€æŸ¥å¿…é¡»åœ¨è¿è¡Œæ—¶è¿›è¡Œï¼Œå› ä¸ºç¼–è¯‘å™¨ä¸å¯èƒ½æå‰çŸ¥é“ç”¨æˆ·ç¨åè¿è¡Œä»£ç æ—¶ä¼šè¾“å…¥ä»€ä¹ˆå€¼ã€‚

è¿™æ˜¯ Rust å†…å­˜å®‰å…¨åŸåˆ™å‘æŒ¥ä½œç”¨çš„ä¸€ä¸ªä¾‹å­ã€‚åœ¨è®¸å¤šåº•å±‚è¯­è¨€ä¸­ï¼Œè¿™ç§æ£€æŸ¥æ˜¯ä¸å­˜åœ¨çš„ï¼Œå½“ä½ æä¾›äº†ä¸€ä¸ªä¸æ­£ç¡®çš„ç´¢å¼•æ—¶ï¼Œæ— æ•ˆçš„å†…å­˜å°±ä¼šè¢«è®¿é—®ã€‚è€Œ Rust ä¼šç«‹å³é€€å‡ºï¼Œè€Œä¸æ˜¯å…è®¸è®¿é—®å†…å­˜å¹¶ç»§ç»­ï¼Œä»è€Œé˜²æ­¢å‡ºç°è¿™ç§é”™è¯¯ã€‚

## å‡½æ•°

å‡½æ•°åœ¨ Rust ä¸­å¾ˆå¸¸è§ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°è¿‡ä¸€ä¸ªå‡½æ•°å°±æ˜¯ `main` å®ƒä¹Ÿæ˜¯æ•´ä¸ªç¨‹åºçš„å…¥å£ã€‚`fn` å…³é”®å­—ç”¨äºå®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚åœ¨ Rust ä¸­ä½¿ç”¨ snake å‘½åæ³•æ¥å‘½åå‡½æ•°åå’Œå˜é‡åï¼Œä¹Ÿå°±æ˜¯è¿™äº›åå­—éƒ½ç”¨å°å†™å­—æ¯åŠ ä¸‹åˆ’çº¿ï¼Œä¾‹å¦‚ï¼š

```rust
fn main() {
    println!("Hello, world!");

    another_function();
}

fn another_function() {
    println!("Another function.");
}
```

å®šä¹‰å‡½æ•°æ—¶ç”¨ `fn` åŠ ä¸Šä¸€ä¸ªå‡½æ•°åå­—ä»¥åŠä¸€å¯¹åœ†æ‹¬å·ï¼Œä¹‹åå†è·Ÿä¸Šä¸€å¯¹èŠ±æ‹¬å·ç”¨äºå‘Šè¯‰å‡½æ•°ä½“çš„å¼€å§‹å’Œç»“æŸã€‚è°ƒç”¨å‡½æ•°æ—¶ï¼Œä½¿ç”¨å‡½æ•°åå­—åé¢è·Ÿä¸Šä¸€å¯¹åœ†æ‹¬å·ã€‚åœ¨ Rust ä¸­ä¸éœ€è¦å…³å¿ƒå‡½æ•°å®šä¹‰çš„ä½ç½®ï¼Œéƒ½èƒ½è°ƒç”¨ã€‚åªè¦å‡½æ•°å®šä¹‰çš„ä½œç”¨åŸŸä¸­è°ƒç”¨è¿™èƒ½çœ‹åˆ°å³å¯ã€‚

### å‡½æ•°å‚æ•°

å®šä¹‰çš„å‡½æ•°å¯ä»¥åŒæ—¶å®šä¹‰å½¢å¼å‚æ•°ï¼Œå‚æ•°æ˜¯å‡½æ•°ç­¾åçš„ä¸€éƒ¨åˆ†ã€‚åœ¨è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¯ä»¥é€šè¿‡åœ†æ‹¬å·ä¼ å…¥å®é™…å‚æ•°ï¼Œä½†æ˜¯ä¸ºäº†æ–¹ä¾¿æè¿°ï¼Œä¸€èˆ¬ä¸å»åŒºåˆ†å½¢å¼å‚æ•°å’Œå®é™…å‚æ•°ã€‚æˆ‘ä»¬ä¸ºä¸Šé¢å®šä¹‰çš„ `another_function` åŠ ä¸€ä¸ªå‚æ•°ï¼š

```rust
fn main() {
    another_function(5);
}

fn another_function(x: i32) {
    println!("The value of x is: {x}");
}
```

è¿è¡Œï¼š

```rust
$ cargo run
   Compiling functions v0.1.0 (file:///projects/functions)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 1.21s
     Running `target/debug/functions`
The value of x is: 5
```

åœ¨å‡½æ•°çš„ç­¾åå½“ä¸­ï¼Œå®šä¹‰æ¯ä¸ªå‚æ•°æ—¶å¿…é¡»æŒ‡æ˜å…¶ç±»å‹ï¼Œè¿™æ˜¯æ•…æ„è®¾è®¡çš„ï¼Œå› ä¸ºç¼–è¯‘å™¨å¾ˆéš¾çŸ¥é“åœ¨å¦å¤–ä¸€ä¸ªåœ°æ–¹ä½¿ç”¨å®šä¹‰çš„å‡½æ•°æ—¶æ‰€éœ€çš„å‚æ•°ç±»å‹æ˜¯æ€æ ·çš„ã€‚

å®šä¹‰å¤šä¸ªå‡½æ•°å‚æ•°å¯ä»¥ç”¨é€—å·éš”å¼€ï¼š

```rust
fn main() {
    print_labeled_measurement(5, 'h');
}

fn print_labeled_measurement(value: i32, unit_label: char) {
    println!("The measurement is: {value}{unit_label}");
}
```

### è¯­å¥å’Œè¡¨è¾¾å¼

å‡½æ•°ä½“ç”±ä¸€ç³»åˆ—çš„è¯­å¥ç»„æˆï¼Œå¹¶ä¸”å¯ä»¥ç”¨ä¸€ä¸ªè¡¨è¾¾å¼ä½œä¸ºç»“æŸã€‚ç›®å‰æˆ‘ä»¬è¿˜æ²¡æœ‰é‡åˆ°ç”¨è¡¨è¾¾å¼ä½œä¸ºå‡½æ•°ä½“ç»“æŸçš„æƒ…å†µã€‚å› ä¸º Rust æ˜¯ä¸€é—¨å±…äºè¡¨è¾¾å¼çš„è¯­è¨€ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„åŒºåˆ«ï¼Œå…¶ä»–è¯­è¨€åˆ™æ²¡æœ‰è¿™æ ·çš„åŒºåˆ†ã€‚é¦–å…ˆæ¥çœ‹çœ‹è¯­å¥å’Œè¡¨è¾¾å¼çš„å·®å¼‚ï¼Œä»¥åŠå¦‚ä½•å½±å“å‡½æ•°ä½“ï¼š

- è¯­å¥æ˜¯ä¸€æ¡æŒ‡ä»¤ï¼Œç”¨äºæ‰§è¡Œå‘½ä»¤ä¸ä¼šäº§ç”Ÿè¿”å›å€¼
- è¡¨è¾¾å¼ä¼šäº§ç”Ÿè¿”å›å€¼

ç”¨ `let` å…³é”®å­—å®šä¹‰ä¸€ä¸ªå˜é‡å’Œç”¨ `fn` å…³é”®å­—å®šä¹‰ä¸€ä¸ªå‡½æ•°éƒ½æ˜¯è¯­å¥ï¼ˆè°ƒç”¨å‡½æ•°ä¸æ˜¯è¯­å¥ï¼‰ã€‚å› ä¸ºè¯­å¥æ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½å°† `let` è¯­å¥èµ‹å€¼ç»™å…¶ä»–å˜é‡ï¼Œå¦‚ä¸‹ï¼Œä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼š

```rust
fn main() {
    let x = (let y = 6);
}
```

ç¼–è¯‘é”™è¯¯å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š

```
$ cargo run
   Compiling functions v0.1.0 (file:///projects/functions)
error: expected expression, found `let` statement
 --> src/main.rs:2:14
  |
2 |     let x = (let y = 6);
  |              ^^^
  |
  = note: only supported directly in conditions of `if` and `while` expressions

warning: unnecessary parentheses around assigned value
 --> src/main.rs:2:13
  |
2 |     let x = (let y = 6);
  |             ^         ^
  |
  = note: `#[warn(unused_parens)]` on by default
help: remove these parentheses
  |
2 -     let x = (let y = 6);
2 +     let x = let y = 6;
  |

warning: `functions` (bin "functions") generated 1 warning
error: could not compile `functions` (bin "functions") due to 1 previous error; 1 warning emitted
```

è¯­å¥ `let y = 6` æ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥ `x` æ²¡æ³•ç»‘å®šä»»ä½•å€¼ï¼Œè¿™åœ¨å¦‚ `C` å’Œ `Ruby` ä¹‹ç±»çš„å˜æˆè¯­è¨€ä¸­æ˜¯ä¸ä¸€æ ·çš„ã€‚åœ¨è¿™äº›è¯­è¨€ä¸­èµ‹å€¼æ“ä½œæœ¬èº«ä¼šäº§ç”Ÿè¢«èµ‹å€¼çš„å€¼ï¼Œæ‰€ä»¥åœ¨è¿™äº›è¯­è¨€ä¸­å¯ä»¥ä½¿ç”¨è¿ç»­èµ‹å€¼æ“ä½œï¼š`x = y = 6`ï¼Œåœ¨ rust ä¸­æ²¡æœ‰è¿™æ ·çš„æ“ä½œã€‚

è¡¨è¾¾å¼çš„å½¢å¼æœ‰å¦‚ä¸‹å‡ ç§ï¼Œä½†ä¸é™äºï¼š

- æ•°å­¦è¿ç®—ï¼š`5 + 6`
- è¯­å¥ `let y = 6;` ä¸­çš„ `6`
- è°ƒç”¨å‡½æ•°
- è°ƒç”¨å®
- ä¸€ä¸ªæ–°å®šä¹‰çš„ scope blockï¼Œä¾‹å¦‚

```rust
fn main() {
    let y = {
        let x = 3;
        x + 1
    };

    println!("The value of y is: {y}");
}
```

ä¸Šé¢è¿™æ®µä»£ç ä¸­çš„ï¼š

```rust
{
    let x = 3;
    x + 1
}
```

å°±æ˜¯ä¸€ä¸ªå—ï¼Œæœ€ç»ˆä¼šå¾—åˆ° `4` è¿™ä¸ªå€¼ï¼Œ`4` æœ‰ä¼šç»‘å®šåˆ° `y` ä¸Šï¼Œä½œä¸º `let` è¯­å¥çš„ç»„æˆéƒ¨åˆ†ã€‚æ³¨æ„ï¼Œ`x + 1` è¿™é‡Œæ˜¯æ²¡æœ‰ç»“æŸæ—¶çš„åˆ†å·ï¼Œå› ä¸ºè¡¨è¾¾å¼ä¸å¸¦åˆ†å·ï¼Œå¦‚æœåŠ ä¸Šåˆ†å·å°±å˜æˆäº†è¯­å¥ï¼Œä¹Ÿå°±æ„å‘³ç€ä¸ä¼šäº§ç”Ÿè¿”å›å€¼äº†ã€‚


### å¸¦è¿”å›å€¼çš„å‡½æ•°

å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå€¼ç»™å…¶è°ƒç”¨è€…ã€‚å‡½æ•°çš„è¿”å›å€¼ä¸ç”¨å‘½åï¼Œä½†æ˜¯æˆ‘ä»¬å¿…é¡»ç”¨ `->` æŒ‡å®šè¿”å›å€¼çš„ç±»å‹ã€‚åœ¨ Rust ä¸­å‡½æ•°çš„è¿”å›å€¼å’Œå‡½æ•°ä½“ä¸­æœ€åä¸€è¡Œè¡¨è¾¾å¼çš„å€¼æ˜¯ä¸€è‡´çš„ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ `return` å…³é”®å­—æ¥æå‰è®©å‡½æ•°è¿”å›åŒæ—¶æä¾›è¿”å›å€¼ï¼Œä½†å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½éšå¼åœ°ç”¨æœ€åä¸€è¡Œè¡¨è¾¾å¼çš„å€¼ã€‚

```rust
fn five() -> i32 {
    5
}

fn main() {
    let x = five();

    println!("The value of x is: {x}");
}
```

åœ¨ `five` å‡½æ•°ä¸­é™¤äº†ä¸€ä¸ª `5` è¡¨è¾¾å¼å…¶ä½™ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œè¿™åœ¨ rust ä¸­ä¹Ÿæ˜¯å®Œå…¨åˆæ³•çš„ã€‚å¯ä»¥çœ‹åˆ°å‡½æ•°çš„è¿”å›å€¼ç±»å‹é€šè¿‡ `-> i32` æ¥æŒ‡å®šäº†ï¼Œè¿è¡Œä»£ç å¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“æœï¼š

```rust
$ cargo run
   Compiling functions v0.1.0 (file:///projects/functions)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.30s
     Running `target/debug/functions`
The value of x is: 5
```

ä¸€äº›éœ€è¦æ³¨æ„çš„ç»†èŠ‚ï¼š

- å› ä¸º `five` çš„è¿”å›å€¼æ˜¯ `5`ï¼Œæ‰€ä»¥è¿”å›å€¼ç±»å‹æ˜¯ `i32`
- è¯­å¥ `let x = five();` ç”¨å‡½æ•°çš„è¿”å›å€¼æ¥åˆå§‹åŒ–å˜é‡ï¼Œæ‰€ä»¥å’Œè¯­å¥ `let x = 5;` çš„æ•ˆæœä¸€æ ·
- `five` æ²¡æœ‰å®šä¹‰å½¢å‚ï¼Œä½†å®šä¹‰äº†è¿”å›å€¼ç±»å‹ï¼›`5` åé¢æ²¡æœ‰åˆ†å·ï¼Œæ‰€ä»¥è¿™ä¸ªè¡¨è¾¾å¼çš„å€¼å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼

å†çœ‹ä¸€ä¸ªä¾‹å­ï¼š

```rust
fn main() {
    let x = plus_one(5);

    println!("The value of x is: {x}");
}

fn plus_one(x: i32) -> i32 {
    x + 1
}
```

è¿è¡Œè¿™æ®µä»£ç ä¼šåœ¨å±å¹•ä¸Šæ‰“å°å‡ºï¼š`The value of x is: 6`ï¼Œä½†å¦‚æœåœ¨ `x + 1` åé¢åŠ ä¸Šåˆ†å·ï¼Œä¹Ÿå°±æ˜¯å°†è¡¨è¾¾å¼æ”¹ä¸ºäº†è¯­å¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼š

```rust
fn main() {
    let x = plus_one(5);

    println!("The value of x is: {x}");
}

fn plus_one(x: i32) -> i32 {
    x + 1;
}
```

ç¼–è¯‘è¾“å‡ºï¼š

```
$ cargo run
   Compiling functions v0.1.0 (file:///projects/functions)
error[E0308]: mismatched types
 --> src/main.rs:7:24
  |
7 | fn plus_one(x: i32) -> i32 {
  |    --------            ^^^ expected `i32`, found `()`
  |    |
  |    implicitly returns `()` as its body has no tail or `return` expression
8 |     x + 1;
  |          - help: remove this semicolon to return this value

For more information about this error, try `rustc --explain E0308`.
error: could not compile `functions` (bin "functions") due to 1 previous error
```

è¿™æ®µæŠ¥é”™ä¿¡æ¯æŒ‡å‡ºäº†ä¸€ä¸ªæ ¸å¿ƒä¿¡æ¯å°±æ˜¯ `mismatched types`ï¼Œ`plus_one` å‡½æ•°å®šä¹‰çš„è¿”å›å€¼ç±»å‹æ˜¯ `i32`ï¼Œä½†æ˜¯è¯­å¥æ²¡æœ‰è¿”å›å€¼ï¼Œå‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ä¼šéšå¼è¿”å› `()` å…¶ç±»å‹ä¸ºå•å…ƒç±»å‹ï¼Œäºæ˜¯æŠ¥å‡ºäº†ç±»å‹ä¸åŒ¹é…é”™è¯¯ã€‚

## æ³¨é‡Š

ç¼–ç¨‹äººå‘˜ä¼šå°½åŠ›å†™å‡ºå®¹æ˜“ç†è§£çš„ä»£ç ï¼Œä½†æ˜¯ä»£ç æœ‰æ—¶å€™éœ€è¦æœ‰é¢å¤–çš„è§£é‡Šï¼Œè¿™æ—¶ç¼–ç¨‹äººå‘˜ä¼šåœ¨ä»£ç ä¸­ç•™ä¸‹*æ³¨é‡Š*ç»™å…¶ä»–äººçœ‹ã€‚ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æœŸé—´ä¼šå¿½ç•¥æ³¨é‡Šã€‚

å•è¡Œæ³¨é‡Šå¦‚ï¼š

```rust
// hello, world
```

å¤šè¡Œæ³¨é‡Šå¦‚ï¼š

```rust
// So we're doing something complicated here, long enough that we need
// multiple lines of comments to do it! Whew! Hopefully, this comment will
// explain what's going on.
```

ä¹Ÿå¯ä»¥ç”¨ `/*` å’Œ `*/`ï¼š

```rust
/* So weâ€™re doing something complicated here, long enough that we need
   multiple lines of comments to do it! Whew! Hopefully, this comment will
   explain whatâ€™s going on. */
```

ä¹Ÿå¯ä»¥å’Œä»£ç å†™åœ¨åŒä¸€è¡Œä¸­ï¼š

```rust
fn main() {
    let lucky_number = 7; // I'm feeling lucky today
}
```

Rust è¿˜æä¾›ä¸€ç§ç§°ä¸º*æ–‡æ¡£æ³¨é‡Š*çš„æ³¨é‡Šï¼Œè¿™ä¸ªåœ¨åé¢è®¨è®ºã€‚

